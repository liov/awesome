早上看到华为新操作系统鸿蒙的消息，相关讨论有讨论到方舟编译器，编译为机器码，众所周知，安卓5的时候已经全面采用art，编译成机器码，虽然安卓7又变成aot+jit，但与本文内容无关。

那么问题来了，art到底算是运行时还是虚拟机呢？

我认为运行时和虚拟机最大的区别就是运行的是machinecode还是bytecode，虚拟顾名思义，有自己的指令集。

像go这种带垃圾回收，但是内存也是程序本身处理，算作运行时

像java，lua这种先编译成字节码，然后在虚拟机中运行的，算作虚拟机

当然了对于js,lua.python这种可以jit的语言来说，虽然也编译成机器码，但是却与运行环境强依赖

那么像v8这种，算运行时还是虚拟机呢

我认为还是运行时，虽然js并不能脱离v8，内存由外部管理，运行也依赖外部，但运行的仍是机器码，只是受运行环境限制

毕竟.net core也只能算作运行时

这就好比c编译出来的二进制文件受限于操作系统，调用了操作系统的接口，难道把操作系统看做是虚拟机，显然是不合理的

所以我认为art只能算作是运行时，或者更准确的说外部运行时，类似.net

知乎有篇文章很好，我先上链接JavaScript引擎、虚拟机、运行时环境是一回事儿吗？

